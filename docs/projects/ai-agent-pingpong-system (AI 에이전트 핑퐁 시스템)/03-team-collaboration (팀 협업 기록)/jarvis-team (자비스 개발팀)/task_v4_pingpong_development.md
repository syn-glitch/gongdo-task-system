# 📋 [Task] V4 핑퐁 시스템 개발 계획서 및 업무 분배

---
**문서 정보**
- **문서명**: task_v4_pingpong_development.md
- **작성자**: 자비스 PO (Jarvis Dev Team 기획)
- **승인자**: 팀장 (송용남)
- **작성일**: 2026-02-28
- **상태**: Draft (팀장님 승인 대기)
---

## 1. 개요 (Overview)
본 문서는 벙커 팀(송PO)이 제안한 **[V4] 하네스 인프라 통합형 핑퐁 시스템**을 실제 코드로 구현하기 위한 자비스 개발팀의 단계별 태스크 상세 및 담당자 배분 계획입니다.

## 2. 단계별 개발 태스크 및 담당자 배분

### Phase 1: 아키텍처 설계 및 인프라 통합 준비 (Orchestration & Infrastructure)
기존 구글 시트 1분 트리거 타임아웃 문제를 해결하고, 하네스(Harness) 라우팅 엔진과의 Webhook 연동 구조를 설계합니다.

- [x] **[Task 1.1]** V4 시스템 통합 아키텍처 및 API 명세서 작성
  - **담당자**: 👨‍💻 **알렉스 (Tech Lead)**
  - **세부내용**: `state.json` 구조 설계, 동시성(LockService) 제어 방안, 이벤트 기반 Webhook 구조 설계
- [x] **[Task 1.2]** 개발/QA 간 핑퐁 통신 프로토콜 정의
  - **담당자**: 🤵 **자비스 PO** & 👨‍💻 **알렉스**
  - **세부내용**: 김감사(QA)의 반려 사유(Diff) JSON 규격 합의 및 파싱 규칙 수립

### Phase 2: 상태 관리 모듈 및 백엔드 파이프라인 전환 (Backend Pipeline)
실제 파일(상태) 기반 데이터 전달 시스템을 백엔드에 구현합니다.

- [x] **[Task 2.1]** 기존 구글 시트 트리거 로직 제거 및 Webhook 리스너 구현
  - **담당자**: 👩‍💻 **에이다 (Backend Dev)**
  - **세부내용**: 하네스 이벤트 감지 API 엔드포인트 생성 (`agent_sync.gs` 리팩토링)
- [x] **[Task 2.2]** `state.json` 읽기/쓰기 모듈 및 `session_handoff` 객체 구현
  - **담당자**: 👩‍💻 **에이다 (Backend Dev)**
  - **세부내용**: 에이전트 작업 완료 시 상태 업데이트 로직 처리, LockService 적용

### Phase 3: 서킷 브레이커 & 에러 통제 로직 구현 (Circuit Breaker & QA Logic)
무한 루프 방지 및 안전 장치를 구현합니다.

- [x] **[Task 3.1]** 핑퐁 카운트 추적 모듈 구현
  - **담당자**: 👩‍💻 **에이다 (Backend Dev)**
  - **세부내용**: `state.json` 내 재시도 횟수 트래킹 (최대 3회)
- [x] **[Task 3.2]** 임계값 도달 시 강제 중단 및 슬랙 에스컬레이션(팀장 알림) 발송
  - **담당자**: 👩‍💻 **에이다 (Backend Dev)** & 👨‍💻 **알렉스** (코드 리뷰)

### Phase 4: 대시보드 UI 기획 및 프론트엔드 컴포넌트 개발 (Frontend UI & UX)
최AR(벙커)의 목업을 바탕으로 프론트엔드 작업 환경을 구축합니다.

- [x] **[Task 4.1]** 대시보드 UI/UX 상세 가이드라인 및 CSS 변수 추출
  - **담당자**: 🎨 **벨라 (UX/UI Designer)**
  - **세부내용**: 벙커팀 목업 기반으로 클로이가 사용할 CSS, Color 코드, 레이아웃 구조 명세화
- [x] **[Task 4.2]** AgenticFlow 대시보드 칸반 보드 뷰 (HTML/CSS/JS) 구현
  - **담당자**: 👧 **클로이 (Frontend Dev)**
  - **세부내용**: 드래그 앤 드롭, 모바일 반응형 터치 이벤트 처리, 상태 UI 개발
- [x] **[Task 4.3]** 대시보드 실시간 로그 및 비용 게이지 컴포넌트 구현
  - **담당자**: 👧 **클로이 (Frontend Dev)**
  - **세부내용**: 에이다의 API 응답값을 받아 화면에 렌더링 (로딩/에러/빈 상태 처리)

### Phase 5: 통합 연동 테스트 및 배포 준비 (Integration & QA)
자비스팀 내부 연동 후 QA 검수를 진행합니다.

- [x] **[Task 5.1]** 프론트-백엔드 데이터 연동 테스트 및 버그 픽스
  - **담당자**: 👨‍💻 **알렉스** (아키텍처/코드 병합 리뷰), 👩‍💻 **에이다**, 👧 **클로이**
- [x] **[Task 5.2]** V4 핑퐁 시스템 V1.0 최초 릴리즈 및 꼼꼼이 팀(문서화) 이관
  - **담당자**: 🤵 **자비스 PO**
