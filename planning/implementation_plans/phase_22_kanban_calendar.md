# [기획안] 주디 워크스페이스: 칸반 보드 & 커스텀 캘린더 통합 뷰

**기획자**: 자비스 (PO)
**개발진**: 에이다, 허밋, 클로이
**검토자**: 김감사 (QA)
**목표**: 기존의 리스트형 업무 관리 UI를 넘어, 시각적으로 직관적인 **칸반 보드(Kanban)**와 **커스텀 웹 캘린더(Calendar)**를 도입하여 팀의 업무 스케줄링 생산성을 극대화합니다.

---

## 📋 핵심 컨셉

### 1. "구글 캘린더는 도구일 뿐, 데이터의 주인은 구글 시트다"
- 사용자가 웹 캘린더에서 업무를 옮기면, 백엔드의 **구글 시트(Tasks)** 데이터가 먼저 업데이트됩니다.
- 이후 기존에 구축된 `calendar_sync.gs` 트리거가 작동하여 구글 캘린더 앱에 자동으로 반영됩니다.
- 이 방식은 시스템의 일관성을 유지하면서도 웹에서의 반응 속도를 보장합니다.

### 2. "SPA 탭 기반의 유기적 전환"
- `judy_workspace.html`에 세 번째 메인 탭 **[📅 스케줄/칸반]**을 추가합니다.
- 해당 탭 내에서 다시 **[보드 형태]**와 **[달력 형태]**를 토글할 수 있는 하위 스위치를 제공합니다.

---

## 🏗️ 개발 단계별 마일스톤 (Steps)

### Phase 1: 백엔드 API 고도화 (에이다 & 허밋)
- **전체 업무 데이터 반환**: 현재는 '내 업무'만 가져오지만, 팀 단위 조회를 위해 필터링된 전체 업무 목록을 가져오는 API(`getAllTasksForWeb`)를 보완합니다.
- **날짜 변경 API**: 칸반 이동(상태 변경)은 기존 `changeTaskStatusFromWeb`을 재사용하고, 달력이동(날짜 변경)을 위한 `changeTaskDueDateFromWeb` 함수를 신설합니다.

### Phase 2: 프론트엔드 - 칸반 보드 (Kanban Board) 구현 (클로이)
- **UI 설계**: '대기', '진행중', '완료' 3개 컬럼을 가진 가로 스크롤 레이아웃 구축.
- **드래그 앤 드롭 (Drag & Drop)**: 
  - HTML5 Native Drag API를 활용하여 가벼운 인터랙션 구현.
  - 카드 이동 시 즉각적인 UI 반영(Optimistic UI) 후 백엔드 서버 통신.
- **모바일 대응**: 터치 이벤트를 감지하여 모바일에서도 롱탭 후 이동이 가능하도록 최적화.

### Phase 3: 프론트엔드 - 웹 캘린더 (Custom Calendar) 구현 (클로이 & 자비스)
- **달력 엔진 구축**: 외부 라이브러리 없이 순수 JS로 날자 계산 로직을 짜거나, 경량화된 달력 모듈을 이식합니다.
- **업무 카드 배치**: 마감일(`dueDate`)이 있는 태스크를 달력 셀 안에 배치합니다.
- **날짜 변경 인터랙션**: 달력 내의 업무 카드를 다른 날짜로 드래그하면 즉시 시트의 `dueDate`가 변경됩니다.

---

## ⏱️ 예상 견적 (Estimate)

- **개발 시간**: 10~14 영업일 (약 2주)
- **업무 난이도**: 🔴 **상** (복잡한 DOM 인터랙션 및 상태 동기화)
- **가능성**: 🟢 **매우 높음** (현재 인프라로 100% 구현 가능)

---

## 🚨 주요 리스크 및 대책

1. **레이턴시(Latency) 문제**: GAS 서버 응답이 1~2초 걸리므로 드래그 직후 화면이 멈춘 것처럼 보일 수 있습니다.
   - **대책**: 'Optimistic UI' 기법 적용 (서버 응답을 기다리지 않고 먼저 카드를 옮겨두고, 실패 시에만 원복).
2. **모바일 사용성**: 좁은 화면에서 칸반 컬럼을 보기가 힘들 수 있습니다.
   - **대책**: 모바일에서는 1열씩 스와이프해서 보는 '카드 뷰' 형태로 전환.
3. **데이터 유실**: 드래그 도중 브라우저가 꺼질 경우.
   - **대책**: 모든 이동 직후 로그(`ActionLog`)를 남겨 유실 방지.

---

팀장님, 이 기획안이 승인되면 즉시 **Phase 1: 백엔드 인터페이스 설계**부터 착수하겠습니다.
구글 캘린더의 한계를 넘는 우리만의 워크스페이스를 완성해 보시죠! 🚀
