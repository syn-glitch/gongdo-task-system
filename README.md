# 공도 업무 관리 시스템 (Gongdo Task Management System)

## 프로젝트 개요
이 프로젝트는 비전공자 팀원들도 쉽게 업무를 관리하고 공유할 수 있도록 **슬랙(Slack)**, **구글 스프레드시트(Google Sheets)**, **구글 캘린더(Google Calendar)**, **AI(Claude)**를 유기적으로 연결한 통합 업무 시스템입니다.

**핵심 목표:**
- **접근성:** 익숙한 슬랙과 구글 시트를 인터페이스로 사용
- **자동화:** Apps Script(GAS)를 통한 ID 생성, 알림, 리포팅 자동화
- **확장성:** 향후 AI 에이전트 도입을 고려한 데이터 구조 설계

## 시스템 아키텍처
1. **데이터베이스:** 구글 스프레드시트 (`Tasks`, `Projects`, `Users`)
2. **백엔드:** Google Apps Script (GAS)
3. **인터페이스:** 슬랙 (Slash Command, Modal, Webhook)
4. **일정:** 구글 캘린더 API

## 설치 및 설정 가이드

### 1단계: 구글 스프레드시트 설정
1. 새 구글 스프레드시트 생성
2. `확장 프로그램` > `Apps Script` 메뉴 선택
3. `setup_structure.gs` 코드 복사 & 붙여넣기 후 실행 -> **시트 구조 자동 생성**
4. `auto_automation.gs` 코드 복사 & 붙여넣기 -> **업무 ID 자동 생성 및 타임스탬프 기능 활성화**

## 파일 구조
- `README.md`: 프로젝트 설명서
- `task.md`: 개발 로드맵 및 진행 상황
- `implementation_plan.md`: 상세 구현 계획 및 DB 설계서
- `setup_structure.gs`: (v1.1) 시트 구조 자동 생성 스크립트
- `auto_automation.gs`: (v1.0) 업무 ID 생성 및 자동화 스크립트

## 개발 히스토리
- **2026-02-20**: 프로젝트 초기화 및 1단계(DB 구축) 완료.
   - Apps Script 2종 개발 완료 (구조 생성, 자동화)
- **2026-02-20**: 2단계(슬랙 알림) 완료.
  - 슬랙 Bot Token 연동 및 프로젝트별 알림 채널 설정
  - 상태 변경 감지 및 디버깅 메뉴(강제 알림) 구현

---

## 2단계: 슬랙 알림 연동 가이드

### ⚙️ 슬랙 봇 설정 (필수)
1. **봇 초대하기**
   - 알림을 받을 슬랙 채널에서 `/초대 @Judy Ops` (또는 앱 이름) 입력
   - *초대되지 않은 채널에는 봇이 메시지를 보낼 수 없습니다.*

2. **채널 ID 등록**
   - 슬랙 채널 이름 우클릭 -> **링크 복사**
   - 링크 맨 뒤의 `C...` 로 시작하는 ID 복사
   - `Projects` 시트의 **'Slack 채널 ID'** 열에 붙여넣기

### � 알림 사용법 (자동화 시나리오)
봇이 채널에 초대되었다면, 이제 시트만 신경 쓰시면 됩니다.

1.  **업무 입력**: `Tasks` 시트에 프로젝트명, 업무 제목 등을 입력합니다.
2.  **상태 변경 (트리거)**: 입력이 끝나면 **'상태'** 열을 `대기` 또는 `진행중`으로 변경하세요.
3.  **자동 발송**: 약 2~3초 뒤, 해당 프로젝트 채널로 알림이 **자동으로** 전송됩니다. 
    *(메뉴의 '🐞 강제 알림' 버튼은 알림이 안 갈 때만 사용하는 진단용 도구입니다.)*

### �🐞 문제 해결 (디버깅)
알림이 오지 않는다면?
1. 상단 메뉴 `🚀 업무 시스템 관리` -> `🐞 현재 행 강제 알림 (디버깅)` 클릭
2. 팝업창에 뜨는 에러 메시지 확인
   - `not_in_channel`: 봇을 채널에 초대해주세요.
   - `invalid_auth`: 스크립트의 토큰 값을 확인해주세요.
